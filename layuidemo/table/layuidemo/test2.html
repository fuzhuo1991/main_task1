<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="layui/css/layui.css" rel="stylesheet" media="all" />
    <script src="layui/layui.js"></script>
     <!--注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的--> 
</head>
<body class="layui-layout-body">
    <div class="layui-layout layui-layout-admin">
        <div class="layui-header">
            <div class="layui-logo">layui 后台布局</div>
            <!-- 头部区域（可配合layui已有的水平导航） -->
            <ul class="layui-nav layui-layout-left">
                <li class="layui-nav-item"><a href="">控制台</a></li>
                <li class="layui-nav-item"><a href="">商品管理</a></li>
                <li class="layui-nav-item"><a href="">用户</a></li>
                <li class="layui-nav-item">
                    <a href="javascript:;">其它系统</a>
                    <dl class="layui-nav-child">
                        <dd><a href="">邮件管理</a></dd>
                        <dd><a href="">消息管理</a></dd>
                        <dd><a href="">授权管理</a></dd>
                    </dl>
                </li>
            </ul>
            <ul class="layui-nav layui-layout-right">
                <li class="layui-nav-item">
                    <a href="javascript:;">
                        <img src="http://t.cn/RCzsdCq" class="layui-nav-img">
                        贤心
                    </a>
                    <dl class="layui-nav-child">
                        <dd><a href="">基本资料</a></dd>
                        <dd><a href="">安全设置</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item"><a href="">退了</a></li>
            </ul>
        </div>

        <div class="layui-side layui-bg-black">
            <div class="layui-side-scroll">
                <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
                <ul class="layui-nav layui-nav-tree" lay-filter="test">
                    <li class="layui-nav-item layui-nav-itemed">
                        <a class="" href="javascript:;">所有商品</a>
                        <dl class="layui-nav-child">
                            <dd><a href="javascript:;" lay-id="1">列表一</a></dd>
                            <dd><a href="javascript:;" lay-id="2">列表二</a></dd>
                            <dd><a href="javascript:;" lay-id="3">列表三</a></dd>
                            <dd><a href="" lay-id="4">超链接</a></dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item">
                        <a href="javascript:;">解决方案</a>
                        <dl class="layui-nav-child">
                            <dd><a href="javascript:;">列表一</a></dd>
                            <dd><a href="javascript:;">列表二</a></dd>
                            <dd><a href="">超链接</a></dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item"><a href="">云市场</a></li>
                    <li class="layui-nav-item"><a href="">发布商品</a></li>
                </ul>
            </div>
        </div>

        <div class="layui-body">
            <div class="layui-tab layui-tab-card" lay-allowclose="true" lay-filter="laytitle">
                <ul class="layui-tab-title">
                    <!--<li class="layui-this" lay-id="11">网站设置</li>
                    <li lay-id="22">用户管理</li>
                    <li lay-id="33">权限分配</li>
                    <li lay-id="44">商品管理</li>
                    <li lay-id="55">订单管理</li>-->
                </ul>
                <div class="layui-tab-content" style="height: 100%;">
                    <!--<div class="layui-tab-item layui-show">
                        1. 我个人比较喜欢卡片风格的，所以你发现又是以卡片的风格举例
                        2. 删除功能适用于所有风格
                    </div>
                    <div class="layui-tab-item">2</div>
                    <div class="layui-tab-item">3</div>
                    <div class="layui-tab-item">4</div>
                    <div class="layui-tab-item">5</div>
                    <div class="layui-tab-item">6</div>
                    <div class="site-demo-button" style="margin-bottom: 0;">
                        <button class="layui-btn site-demo-active" data-type="tabAdd">新增Tab项</button>
                        <button class="layui-btn site-demo-active" data-type="tabDelete">删除：商品管理</button>
                        <button class="layui-btn site-demo-active" data-type="tabChange">切换到：用户管理</button>
                    </div>-->
                </div>
            </div>  
        </div>

        <div class="layui-footer">
            <!-- 底部固定区域 -->
            © layui.com - 底部固定区域
        </div>
    </div>

    <script>
        //JavaScript代码区域

        layui.config({
            base: '/main_task_中/layuidemo/table/layuidemo/script/',//假设这是你存放拓展模块的根目录
        }).extend({ //设定模块别名
  			base:'base'
        });
        layui.use(['element', 'base'], function () {

            base = layui.base;
            
            var data = { tablename: "M_USERS", action: 0 };//查询
            webajax("http://222.163.24.203:8282/DataUI/QueryData.ashx",//跨域
            //webajax("http://localhost:52738/DataUI/QueryData.ashx",
                { option: data },
                function (res) {
                    console.log(res);
                });

      
    var element = layui.element;
    var $ = layui.jquery;
    var form = layui.form
, layer = layui.layer;
  var active = {
      tabAdd: function () {
          //新增一个Tab项
          element.tabAdd('laytitle', {
              title: '新选项' + (Math.random() * 1000 | 0) //用于演示
            , content: '内容123' + (Math.random() * 1000 | 0)
            , id: new Date().getTime() //实际使用一般是规定好的id，这里以时间戳模拟下
          })
      }
, tabDelete: function (othis) {
    //删除指定Tab项
    element.tabDelete('laytitle', '44'); //删除：“商品管理”
    othis.addClass('layui-btn-disabled');
}
, tabChange: function () {
    //切换到指定Tab项
    element.tabChange('laytitle', '22'); //切换到：用户管理
}
  };

  element.on('tab(laytitle)', function (data) {
      //alert(data.index+"-click");
      console.log(this); //当前Tab标题所在的原始DOM元素
      console.log(data.index); //得到当前Tab的所在下标
      console.log(data.elem); //得到当前的Tab大容器
  });

  $('.site-demo-active').on('click', function () {
      var othis = $(this), type = othis.data('type');
      active[type] ? active[type].call(this, othis) : '';
  });

    //Hash地址的定位
  var layid = location.hash.replace(/^#test=/, '');
  element.tabChange('test', layid);

  element.on('tab(test)', function (elem) {
      location.hash = 'test=' + $(this).attr('lay-id');
  });
   
  $(".layui-nav-child a").click(function () {
      var layid = ($(this).attr("lay-id"));
      var title = ($(this)).text();
      element.tabAdd('laytitle', {
          title:title //用于演示
          //, content: '内容123' + (Math.random() * 1000 | 0)
            , content: layid
            , id: layid //实际使用一般是规定好的id，这里以时间戳模拟下
      })
      var layids = $("[lay-id='" + layid + "']");
      layids.addClass('layui-this');
      var dislist = $(".layui-tab-item");
 
      for (var i = 0; i <= dislist.length; i++) {
          if ($(dislist[i]).html() == layid)
          {
              $(dislist[i]).addClass("layui-show");
              $(dislist[i]).load('table02.html');
          }
      }
  })
});
    </script>
</body>
</html>